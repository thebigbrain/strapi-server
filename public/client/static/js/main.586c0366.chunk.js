(this["webpackJsonpquote-board"]=this["webpackJsonpquote-board"]||[]).push([[0],{154:function(t,e,n){t.exports=n(248)},248:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"get",(function(){return x})),n.d(r,"store",(function(){return E})),n.d(r,"reset",(function(){return k}));var a={};n.r(a),n.d(a,"setTitle",(function(){return I})),n.d(a,"alert",(function(){return M})),n.d(a,"confirm",(function(){return P})),n.d(a,"onUnload",(function(){return q})),n.d(a,"openWindow",(function(){return C})),n.d(a,"openPopup",(function(){return T})),n.d(a,"waitForMessage",(function(){return z})),n.d(a,"sendMessage",(function(){return A})),n.d(a,"reload",(function(){return L}));var o={};n.r(o),n.d(o,"find",(function(){return U})),n.d(o,"get",(function(){return _})),n.d(o,"count",(function(){return H})),n.d(o,"create",(function(){return J})),n.d(o,"update",(function(){return D})),n.d(o,"remove",(function(){return G}));var c={};n.r(c),n.d(c,"getApp",(function(){return V})),n.d(c,"setRoutes",(function(){return Z}));var u={};n.r(u),n.d(u,"posts",(function(){return ot})),n.d(u,"apps",(function(){return ct})),n.d(u,"quotes",(function(){return ut}));var i={};n.r(i),n.d(i,"createPost",(function(){return ft})),n.d(i,"createModel",(function(){return lt}));var s={};n.r(s),n.d(s,"loginSuccess",(function(){return dt})),n.d(s,"loginWithGithub",(function(){return pt})),n.d(s,"logout",(function(){return ht}));var f={};n.r(f),n.d(f,"useInit",(function(){return Pt})),n.d(f,"decorators",(function(){return qt})),n.d(f,"OvermindProvider",(function(){return g.a})),n.d(f,"StoreScope",(function(){return gt})),n.d(f,"ScopeContext",(function(){return jt})),n.d(f,"useOvermind",(function(){return Ot})),n.d(f,"useStore",(function(){return yt})),n.d(f,"bindScope",(function(){return xt})),n.d(f,"I18nProvider",(function(){return Tt})),n.d(f,"useI18n",(function(){return zt})),n.d(f,"useInterval",(function(){return At}));var l={};n.r(l),n.d(l,"FillQuestionCircle",(function(){return Rt.a})),n.d(l,"OutlineQuestion",(function(){return Rt.c})),n.d(l,"OutlineQuestionCircle",(function(){return Rt.d})),n.d(l,"OutlineArrowLeft",(function(){return Rt.b}));var d=n(0),p=n.n(d),h=n(10),v=n.n(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(255),m=n(49),b=n(60),g=n(79),j=n(16),O=n(37),y=n(115);function x(){return window.localStorage.getItem("jwt")}function E(t){window.localStorage.setItem("jwt",t)}function k(){window.localStorage.clear()}function S(){var t={width:1020,height:618},e=t.width,n=t.height,r=function(t){var e=t.width,n=t.height,r=window.screenLeft?window.screenLeft:window.screenX,a=window.screenTop?window.screenTop:window.screenY,o=r+window.innerWidth/2-e/2;return{top:a+window.innerHeight/2-n/2,left:o}}({width:e,height:n}),a=r.top,o=r.left;return"width=".concat(e,",height=").concat(n,",top=").concat(a,",left=").concat(o)}function I(t){document.title=t}function M(t){return window.alert(t)}function P(t){return window.confirm(t)}function q(t){window.onbeforeunload=t}function C(t){window.open(t,"_blank")}function T(t,e){var n=window.open(t,e,"scrollbars=no,toolbar=no,location=no,titlebar=no,directories=no,status=no,menubar=no, ".concat(S()));return{close:function(){return n.close()}}}function z(t){return new Promise((function(e){window.addEventListener("message",(function n(r){r.data.type===t&&(window.removeEventListener("message",n),e(r.data.data))}))}))}function A(t,e){window.opener.postMessage({type:t,data:e},"*")}function L(){window.location.reload(!0)}var R=n(20),F=n.n(R),Q={get:F.a.get,post:F.a.post,path:F.a.patch,delete:F.a.delete,put:F.a.put,request:F.a.request},B=n(15),W=n.n(B),$=n(22);function N(t){return"/".concat(t)}F.a.defaults.headers.common.Authorization=x()?"Bearer ".concat(x()):"",F.a.defaults.headers.post["Content-Type"]="application/json",F.a.defaults.timeout=5e3;var U=function(){var t=Object($.a)(W.a.mark((function t(e,n){var r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(N(e)),t.next=3,F.a.get(r,n);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=Object($.a)(W.a.mark((function t(e,n){var r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(N(e),"/").concat(n),t.next=3,F.a.get(r);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var t=Object($.a)(W.a.mark((function t(e){var n,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(N(e),"/count"),t.next=3,F.a.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object($.a)(W.a.mark((function t(e,n){var r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(N(e)),t.next=3,F.a.post(r,n);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),D=function(){var t=Object($.a)(W.a.mark((function t(e,n,r){var a,o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(N(e),"/").concat(n),t.next=3,F.a.put(a,r);case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),G=function(){var t=Object($.a)(W.a.mark((function t(e,n){var r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(N(e),"/").concat(n),t.next=3,F.a.delete(r);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),X={jwt:r,browser:a,http:Q,api:o},Y={token:localStorage.getItem("jwt"),graphQLErrors:[],error:null,collectionConfigs:{},routes:[]},K=function(t){var e=function e(n){if(null==n)return"";var r=n.path.trim().replace(/^[/]+|[/]+$/g,"");return"".concat(e(t.get(n.parent&&n.parent.id)),"/").concat(r)},n=!0,r=!1,a=void 0;try{for(var o,c=t.values()[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value;u.path=e(u)}}catch(i){r=!0,a=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return Array.from(t.values())},V=Object(j.pipe)(Object(j.map)(function(){var t=Object($.a)(W.a.mark((function t(e){var n,r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.effects,t.next=3,n.queries.apps();case 3:return r=t.sent,a=r.apps,t.abrupt("return",a&&a[0]);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(j.mutate)(function(){var t=Object($.a)(W.a.mark((function t(e,n){var r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state,r=e.actions,n&&r.setRoutes(n.role.routes);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())),Z=function(t){var e=t.state,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new Map;n.forEach((function(t){return r.set(t.id,t)})),K(r),e.routes=n},tt=function(){var t=Object($.a)(W.a.mark((function t(e,n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state,e.effects,e.actions;case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),et=n(51);function nt(){var t=Object(et.a)(["\n  query Quotes {\n    quotes {\n      id\n      code\n      name\n      latest\n    }\n  }\n"]);return nt=function(){return t},t}function rt(){var t=Object(et.a)(["\n  query {\n    apps {\n      role {\n        routes {\n          id\n          path\n          name\n          redirect\n          ui {\n            id\n            name\n            source\n            initialProps\n          }\n          parent {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return rt=function(){return t},t}function at(){var t=Object(et.a)(["\n  query Posts {\n    posts {\n      id\n      title\n    }\n  }\n"]);return at=function(){return t},t}var ot=Object(O.a)(at()),ct=Object(O.a)(rt()),ut=Object(O.a)(nt());function it(){var t=Object(et.a)(["\n  mutation create_model($data: ModelInput) {\n    createModel(input: { data: $data }) {\n      model {\n        id\n      }\n    }\n  }\n"]);return it=function(){return t},t}function st(){var t=Object(et.a)(["\n  mutation CreatePost($title: String!) {\n    createPost(title: $title) {\n      id\n    }\n  }\n"]);return st=function(){return t},t}var ft=Object(O.a)(st()),lt=Object(O.a)(it()),dt=function(){var t=Object($.a)(W.a.mark((function t(e,n){var r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.state,a=e.effects;try{Object.assign(r.user,n),a.jwt.store(n.jwt),a.browser.reload()}catch(o){console.log("An error occurred:",o)}case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),pt=function(){var t=Object($.a)(W.a.mark((function t(e){var n,r,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.effects,a=r.browser.openPopup("/connect/github","sign in"),t.abrupt("return",r.browser.waitForMessage("signin").then((function(t){if(Object.assign(n.user,t),a.close(),n.user.error)throw n.user.error;r.jwt.store(n.user.jwt),r.browser.reload()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ht=function(t){var e=t.state,n=t.effects;e.user={},n.jwt.reset(),n.browser.reload()},vt={state:{jwt:null,test:"user test"},actions:s},wt=Object(y.a)(Object(O.b)({onInitialize:tt,effects:X,state:Y,actions:c},{endpoint:"/graphql",headers:function(t){return t.token?{Authorization:"Bearer ".concat(t.token||"")}:{}},options:{mode:"cors"},queries:u,mutations:i}),Object(y.b)({user:vt})),mt=Object(j.createOvermind)(wt,{logProxies:!0,devtools:!1,hotReloading:!1}),bt=(n(151),n(23),Symbol("scoped_name"),function(t){var e=t.execution,n=e.actionName,r=e.actionId,a=e.operatorId;return"".concat(n,":").concat(r,":").concat(a)}),gt=p.a.createContext(""),jt=new Map,Ot=Object(g.b)(),yt=function(){var t=Object(d.useContext)(gt),e=p.a.useMemo((function(){return mt.proxyStateTree.getTrackStateTree()}),[]),n=function(){var t=p.a.useState((function(){return-1})),e=Object(b.a)(t,2),n=e[0],r=e[1],a=p.a.useMemo((function(){return{current:!0}}),[]);p.a.useEffect((function(){return function(){a.current=!1}}),[]);return{forceRerender:function(t,e,n){a.current&&r(n)},flushId:n}}().forceRerender;return p.a.useEffect((function(){return function(){mt.proxyStateTree.disposeTree(e)}}),[]),p.a.useLayoutEffect((function(){return e.stopTracking()})),e.track(n),{state:e.state[t],actions:mt.actions[t]}},xt=function(t){var e=jt.get(bt(t));return{state:t.state[e],actions:t.actions[e],effects:t.effects[e]}},Et=n(36),kt=n(11),St=n(17),It=n(14),Mt=n(58),Pt=function(t){Object(d.useEffect)((function(){t&&t()}),[])},qt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=function(e){return p.a.createElement(t,e)};return e.reverse().forEach((function(t){t&&"function"===typeof t&&(n=t(n))})),n}},Ct=p.a.createContext({}),Tt=function(t){var e=t.lang,n=void 0===e?"zh-CN":e,r=t.i18n,a=t.children,o=r?r[n]:{};return p.a.createElement(Ct.Provider,{value:o},a)},zt=function(){return Object(d.useContext)(Ct)},At=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(d.useState)(0),r=Object(b.a)(n,2),a=r[0],o=r[1];Object(d.useEffect)((function(){t&&t();var n=setTimeout((function(){o(a+1)}),e);return function(){return clearTimeout(n)}}),[a])},Lt=n(59),Rt=n(42),Ft=n(49),Qt=new Map([["react",p.a],["antd-mobile",Ft],["@material-ui/styles",Mt],["react-router-dom",Lt],["react-router",Et],["overmind",j],["hooks",f],["icons",l]]),Bt=Qt,Wt=(Array.from(Qt.keys()),function(t){return Bt.get(t)}),$t=function(){function t(e,n,r){Object(St.a)(this,t),this.id=e,this.code=n,this.require=r,this.exports={},this.installed=!1}return Object(It.a)(t,[{key:"init",value:function(){"undefined"!==typeof window&&new Function("module","exports","require",this.code||"")(this,this.exports,this.require)}}]),t}();var Nt=Object(w.a)("div")({width:"100%",height:"100%"}),Ut=Object(w.a)((function(t){return p.a.createElement(m.ActivityIndicator,Object.assign({size:"large"},t))}))({justifyContent:"center",padding:"30px"}),_t=function(){return p.a.createElement("div",null,"Not Found")},Ht=new Map;function Jt(t,e){e=e[kt.b]?e:Object(j.mutate)(e);var n=function(n,r,a,o){jt.set(bt(r),t),e(n,r,a,o)};return n[kt.b]=!0,n}var Dt=function(t){var e=mt.state,n=mt.actions,r=mt.effects,a=t.namespace,o=t.name;if(e[o]=mt.getState(a),n[o]=mt.getActions(function(t,e){var n={};for(var r in e)n[r]=Jt(t,e[r]);return n}(o,a.actions)),r[o]=a.effects,a.onInitialize){var c=mt.createAction("onInitialize",Jt(o,a.onInitialize));Promise.resolve(c(mt))}return o};function Gt(t){var e=t.component?Object(j.json)(t.component):function(t,e){var n=Bt.get(t);if(null==n){var r=new $t(t,e,Wt);r.init(),n=r.exports,Bt.set(t,n)}return n}(t.name,t.source);return(e=e&&(e.default||e))?(Ht.has(t.name)||Ht.set(t.name,Dt(e)),function(n){return e.component?p.a.createElement(gt.Provider,{value:Ht.get(t.name)},p.a.createElement(e.component,n)):null}):null}function Xt(t){var e=Ot().state;return e.routes.length?p.a.createElement(Nt,null,function(t){var e=null,n=t.map((function(t){if(t.redirect)return e=p.a.createElement(Et.Redirect,{key:"redirect:".concat(Math.random(),":").concat(t.redirect),to:t.redirect,exact:!0}),null;if(!t.ui)return null;var n=t.ui,r=Gt(n),a=t.path,o=null==t.exact?"/"===a||!a:t.exact;return p.a.createElement(Et.Route,{key:a,path:a,exact:o},r&&p.a.createElement(r,n.initialProps))}));return p.a.createElement(Et.Switch,null,n,e,p.a.createElement(_t,null))}(e.routes)):p.a.createElement(Ut,{text:"loading ..."})}function Yt(t){var e=window.location,n=e.pathname,r=e.search,a=Ot().state;return Object(d.useEffect)((function(){window.fetch("".concat(a.strapiServerOrigin).concat(n).concat(r)).then((function(t){return t.json()})).then((function(t){window.opener.postMessage({type:"signin",data:t},"*")})).catch((function(t){window.opener.postMessage({type:"signin",data:{error:t}},"*")}))}),[n,r,a.strapiServerOrigin]),null}var Kt=Object(w.a)("div")({position:"relative",boxSizing:"border-box",border:0}),Vt=function(t){var e=Ot().state;return e.graphQLErrors&&e.graphQLErrors.forEach((function(t){m.Toast.fail(t.message)})),e.error?p.a.createElement(Kt,{message:e.error.message,type:"error",showIcon:!0,closable:!0}):null},Zt=Object(w.a)("div")({width:"100vw",height:"100vh"});var te=n(254);n(247);var ee=Object(te.a)({"@global":{html:{width:"100%",height:"100%"},body:{width:"inherit",height:"inherit",margin:"0","font-family":"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n          sans-serif","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",fontSize:"14px"},code:{"font-family":"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},"#root":{width:"inherit",height:"inherit"},"*":{boxSizing:"border-box"}}});v.a.render(p.a.createElement((function(t){return ee(),p.a.createElement(m.LocaleProvider,null,p.a.createElement(g.a,{value:t.store||mt},p.a.createElement(Lt.BrowserRouter,null,t.children)))}),null,p.a.createElement((function(){var t=window.location.pathname,e=Ot().actions;return Object(d.useEffect)((function(){e.getApp()}),[]),p.a.createElement(Zt,null,p.a.createElement(Vt,null),t.startsWith("/auth")?p.a.createElement(Et.Switch,null,p.a.createElement(Et.Route,{exact:!0,path:"/auth/github/callback"},p.a.createElement(Yt,null))):p.a.createElement(Xt,null))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[154,1,2]]]);